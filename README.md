# Updates

2019/21/Dec:
* 引数が５個に増えました 順番に、入力のcfg 出力のcfg ウインドウ幅 ウインドウ高さ 垂直方向オフセット です。
* 垂直方向の水平移動1.65をデフォルトにしていたのですが、自分のところで0.0で動くようになったりと謎が多いので外から与えられるようにしました。
* Pythonの方で出力されるxmlのヘッダーが欠損しており読み込み不能という指摘をいただきましたので、修正しました。

* Now the script takes 5 Command arguments: input.cfg out.xml window-width window-height vertial-offset
* Previous version had default vertical offset 1.65, but this is a mandatory argument. It should be 0.00, but probably depends on situation. I used to use 1.65, but I now use 0.00.
* Fixed a serious bug in python version. The lack of the xml header found to have caused Oculus Camera Calibration Tool to crash. Thank you for report.

現状Riftだけで試しています。

I myself use this script along the camera calibration tool for Rift. I have not tested the Quest version camera tool, so that it remains unsure if xml generated by this script is compatible.


------------------------

# extcam2camcalib

# What's this 

externalcamera.cfgからOculus Mixed Reality Captureのカメラ位置設定xmlをつくるスクリプトです。

きわめて適当にR or pythonで書いてあり、中身は多分一緒です。

こんな感じで使います。

```Rscript ./extcam2camcalib.R input.cfg output.xml width height offset```

```python ./extcam2camcalib.py input.cfg output.xml width height offset```

* スクリプトと同じディレクトリにtemplate.xml（一緒に置いてあるやつ）が必要です。
* widthとheightはゲーム側の設定に合わせて変更してください。
* offsetは垂直方向の位置合わせの変数です。しかし、なぜ並進が必要なのか自分でも全く理解できていません。かつて自分は1.65で動いていたのですが、現在は0.00で手の位置が合うようになりました。0.00を試して変だったら、コントローラーと手の位置が合うように調整してください。

-------------------------------------------------

A R/python script to convert externalcamera.cfg from SteamVR into cameracalibration.xml for Oculus Mixed Reality Capture.

You need template.xml in the same directory as the script.

Usage:

```Rscript ./extcam2camcalib.R input.cfg output.xml width height offset```

```python ./extcam2camcalib.py input.cfg output.xml width height offset```

* Window width/height depend on your game window size. 
* Offset shoud be 0.00, but depends on situations. I used to use 1.65, but now I use 0.00. Try changing it if position of hand and controller do not fit.
